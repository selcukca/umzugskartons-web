############################################
## default index file
DirectoryIndex index.php


############################################
## Prevent character encoding issues from server overrides
## If you still have problems, use the second line instead
AddDefaultCharset Off
AddDefaultCharset UTF-8
AddCharset UTF-8 .htm .html .css .js .woff woff2

############################################
## handle scripts as php file
<FilesMatch "^(home|en|de|compress|thumb|public|download|symbl.connect)$">
    ForceType application/x-httpd-php
    #AcceptPathInfo On
    #SetHandler php-fastcgi
</FilesMatch>


############################################
## authentification
#<FilesMatch "^(index\.php|home|en|de)$">
#    AuthType Basic
#    AuthName "preview"
#    #AuthUserFile /kunden/243272_52066/vhost/symbl/preview.symbl.eu/.htpasswd
#    #AuthUserFile "c:\entwicklung\xampp\htdocs\symbl\preview.symbl.eu\.htpasswd"
#    require valid-user
#</FilesMatch>


<IfModule mod_env.c>

    ############################################
    ## set environment variables
    SetEnv APPLICATION_ENV live
    #SetEnv APPLICATION_ENV beta
    #SetEnv APPLICATION_ENV dev

    ############################################
    ## tell php to use rewrite engine (0|1)
    SetEnv REWRITE_ENGINE 0

</IfModule>


AddType image/jpeg .jpeg .jpg .jpe .JPG
AddType image/png .png .PNG
AddType image/gif .gif .GIF
# webfont mime types
AddType application/vnd.ms-fontobject  eot
AddType font/truetype                  ttf
AddType font/opentype                  otf
AddType application/x-font-woff             woff
AddType application/x-font-woff2 .woff2

# Deflate Compression by FileType
<IfModule mod_deflate.c>
 AddOutputFilterByType DEFLATE text/plain
 AddOutputFilterByType DEFLATE text/html
 AddOutputFilterByType DEFLATE text/xml
 AddOutputFilterByType DEFLATE text/css
 AddOutputFilterByType DEFLATE text/javascript
 AddOutputFilterByType DEFLATE application/xml
 AddOutputFilterByType DEFLATE application/xhtml+xml
 AddOutputFilterByType DEFLATE application/rss+xml
 AddOutputFilterByType DEFLATE application/atom_xml
 AddOutputFilterByType DEFLATE application/javascript
 AddOutputFilterByType DEFLATE application/x-javascript
 AddOutputFilterByType DEFLATE application/x-shockwave-flash
</IfModule>

# turns cache on for 1 month
# thumb header not affected here, set in /thumb by php (1 month)
<IfModule mod_expires.c>
 ExpiresActive On
 ExpiresDefault "access plus 1 month"
 ExpiresByType text/css "access plus 1 month"
 ExpiresByType text/javascript "access plus 1 month"
 ExpiresByType text/html "access plus 1 month"
 ExpiresByType application/javascript "access plus 1 month"
 ExpiresByType image/gif "access plus 1 month"
 ExpiresByType image/jpg "access plus 2 months"
 ExpiresByType image/jpeg "access plus 2 months"
 ExpiresByType image/png "access plus 1 month"
 ExpiresByType image/x-icon "access plus 1 month"
 ExpiresByType application/javascript "access plus 1 month"
 ExpiresByType application/x-javascript "access plus 1 month"
</IfModule>


# see https://developers.google.com/speed/docs/insights/LeverageBrowserCaching
# "Es bringt nichts, sowohl Expires als auch Cache-Control: max-age oder sowohl Last-Modified als auch ETag anzugeben. "
#<ifmodule mod_headers.c>
# <filesmatch "\\.(ico|jpe?g|png|gif|swf|woff)$">
#  Header set Cache-Control "max-age=2592000, public, must-revalidate"
# </filesmatch>
# <filesmatch "\\.(css)$">
#  Header set Cache-Control "max-age=604800, public, must-revalidate"
# </filesmatch>
# <filesmatch "\\.(js)$">
#  Header set Cache-Control "max-age=216000, private, must-revalidate"
# </filesmatch>

#</ifmodule>




<IfModule mod_rewrite.c>

    ############################################
    ## enable rewrites
    Options +FollowSymLinks
    RewriteEngine On


    ############################################
    ## you can put here your root folder
    ## path relative to web root
    #RewriteBase /
    #RewriteBase /symbl/symbl.frontend/


    ############################################
    ## workaround for HTTP authorization
    ## in CGI environment
    RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]


	############################################
	# non ssl to ssl
	#RewriteCond %{HTTPS} !=on
	#RewriteRule ^/?(.*) https://www.umzugskartons-app.de%{REQUEST_URI}  [R=301,L]
	############################################

	############################################
    ## rewrite *.domain.tld to www.domain.tld
    #RewriteCond %{HTTP_HOST} ^www.umzugskartons-app.de [NC]
    #RewriteRule /* https://www.umzugskartons-app.de%{REQUEST_URI} [R=301,L]


    ############################################
    ## always hide svn folders
    RewriteRule ^(.*/)*\.svn/ / [F,L]


    ############################################
    ## redirect for mobile user agents
    #RewriteCond %{REQUEST_URI} !^/mobiledirectoryhere/.*$
    #RewriteCond %{HTTP_USER_AGENT} "android|blackberry|ipad|iphone|ipod|iemobile|opera mobile|palmos|webos|googlebot-mobile" [NC]
    #RewriteRule ^(.*)$ /mobiledirectoryhere/ [L,R=302]


    ############################################
    ## always send 404 on missing files in these folders
    RewriteCond %{REQUEST_URI} !^/(media|image|css|js)/


    ############################################
    ## never rewrite for existing files, directories and links
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond %{REQUEST_FILENAME} !-l


    ############################################
    ## rewrite everything else to home-script
    ## proxy does NOT use RewriteBase !!!
    #RewriteRule .* index.php [L]
    RewriteRule ^(.*?)$ /symbl/www.umzugskartons-app.de/home/$1 [P]

</IfModule>


<IfModule mod_php5.c>

    ############################################
    ## adjust memory limit
    php_value memory_limit 512M


    ############################################
    ## adjust max_execution_time
    php_value max_execution_time 18000


    ############################################
    ## disable automatic session start
    ## before autoload was initialized
    php_flag session.auto_start off


    ############################################
    ## enable resulting html compression
    #php_flag zlib.output_compression on

    ###########################################
    ## disable user agent verification to not break multiple image upload
    php_flag suhosin.session.cryptua off

</IfModule>

############################################
## auto prepend and append files
## example xhprof
#php_value auto_prepend_file ../xhprof/xhprof_start.php
#php_value auto_append_file ../xhprof/xhprof_stop.php
