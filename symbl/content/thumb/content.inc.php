<?php
//$_GET["border"] = "2|ff0000";
// +----------------------------------------------------------------------+
// |                                                                      |
// +----------------------------------------------------------------------+
$sizes = array(
    "small" => "200x200x1",
    "big"   => "400x400x1"
);

// +----------------------------------------------------------------------+
// |                                                                      |
// +----------------------------------------------------------------------+
$size = array_shift($ARGV);

if (isset($sizes[$size])) {
    $size = $sizes[$size];
}



// +----------------------------------------------------------------------+
// |                                                                      |
// +----------------------------------------------------------------------+
@list($w, $h, $whm) = explode("x", $size);

settype($w,   "integer");
settype($h,   "integer");
settype($whm, "integer");

$w = max(0, $w);
$h = max(0, $h);


// +----------------------------------------------------------------------+
// |                                                                      |
// +----------------------------------------------------------------------+
if (count($ARGV) > 0) {
    $_GET["src"] = implode("/", $ARGV);
}


if ($w && $h) {
    if ($whm) {
        $_GET["whm"] = "{$w}|{$h}";
    } else {
        $_GET["wh"] = "{$w}|{$h}";
    }
} elseif ($w && !$h) {
    $_GET["w"]  = "{$w}";
} elseif (!$w && $h) {
    $_GET["h"]  = "{$h}";
}

